# 故事总览

## 剧情主线
- 主线描述：玩家扮演的冒险者来到一个被魔物困扰的村庄，村民请求帮助清剿田野中的魔物。玩家需要前往田野，击败魔物，保护村民的安全。
- 核心冲突：田野中的魔物威胁村民的生存，需要冒险者挺身而出
- 最终目标：清剿田野中的魔物，确保村民安全

## 场景池（网状连接关系，支持分级）

### 场景分级说明
- **一级场景（主场景）**：独立的主要场景
- **二级场景（房间）**：属于某个主场景的子场景
- **房间归属**：每个房间必须属于一个主场景
- **怪物绑定**：怪物可以绑定到主场景（在该场景的任意房间都可能出现），也可以绑定到特定房间（只在该房间出现）

### 一级场景列表（主场景）
- scene_001: 村庄广场（起始场景）
- scene_002: 田野（主要战斗场景）
- scene_003: 村庄酒馆（休息场景）

### 二级场景列表（房间）
#### scene_002 (田野) 的房间
- room_002_001: 田野入口
- room_002_002: 田野深处
- room_002_003: 魔物巢穴

### 场景连接网络
场景连接网络定义存储在 `scene_network.json` 文件中，包含：
- 一级场景之间的连接关系
- 房间之间的连接关系
- 连接条件和前置条件

### 重要角色列表
**说明**：只有重要角色需要创建角色卡（.json文件）并维护状态。环境NPC（如村民、路人等）不需要角色卡，它们的反应由导演评估在环境变化分析中处理。

**重要角色**（需要角色卡）：
- **玩家角色：冒险者**（必须创建角色卡，玩家扮演此角色，需要维护状态如HP、MP、位置、装备等）
- 主要NPC：暂无（根据剧情需要添加）

**环境NPC**（不需要角色卡，由场景描述和导演评估处理）：
- 村民：通过场景描述体现，反应由导演评估生成
- 路人：通过场景描述体现，反应由导演评估生成

**重要提示**：
- **玩家角色必须创建角色卡**：玩家角色是游戏的核心，需要维护完整的状态信息
- 角色卡应存放在 `themes/village_quest/characters/` 目录下，文件名为 `{character_id}.json`
- 玩家角色的角色卡应该包含完整的属性信息（HP、MP、装备、技能等）
- 角色卡格式参考 `CHARACTER_ATTRIBUTES.md`

### 核心事件
核心事件列表存储在 `core_events.json` 文件中，包含：
- 重要剧情节点
- 可能触发的场景
- 前置条件（如果有）

**注意**：这些是重要的剧情节点，但触发时机由LLM根据当前状态和隐藏条件动态决定。

